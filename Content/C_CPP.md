# 编程语言

[理一理字节对齐那些事](https://mp.weixin.qq.com/s?__biz=MzI2OTA3NTk3Ng==&mid=2649284663&idx=2&sn=57539d196cdc9989814cf08308461c2f&chksm=f2f99350c58e1a46e0564a87297327e76c93216556ea763270d9a2160c2a89b545446c634c42#rd)

* 字节对齐的几个规则：
  * 结构体首地址要能被结构体中最大基本单元整除
  * 结构体每个成员相对于首地址偏移都是该成员大小的整数倍
  * 结构体总大小为最大成员的整数倍
  * 如不满足上述要求，通过填充实现
* 跨平台的结构体保证正确方法
  * 1字节对齐
  * 手动进行填充
* 合理分配结构体成员顺序可以减少使用空间
* 可以使用#pragma pack(n) / #pragma pack() 实现固定字节对齐和还原默认对齐
* 可以在结构体后加__attribute__ ((packed))实现1字节对齐
* 跨平台数据提高访问效率：填充字节
* 本地使用默认对齐方式效率最高